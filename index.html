<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hajj Passport Registration Form</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .logo {
            max-width: 150px;
            max-height: 80px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(255,255,255,0.2);
        }

        .logo-upload {
            position: absolute;
            top: 20px;
            right: 20px;
        }

        .logo-upload input {
            display: none;
        }

        .logo-upload label {
            background: rgba(255,255,255,0.2);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .logo-upload label:hover {
            background: rgba(255,255,255,0.3);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .form-container {
            padding: 40px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-row-three {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .bilingual-label {
            display: flex;
            flex-direction: column;
            margin-bottom: 8px;
        }

        .label-german {
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.95em;
            margin-bottom: 2px;
        }

        .label-arabic {
            font-weight: 500;
            color: #5a6c7d;
            font-size: 0.9em;
            direction: rtl;
            text-align: right;
            font-family: 'Arial', 'Tahoma', sans-serif;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="tel"]:focus,
        input[type="date"]:focus,
        select:focus {
            outline: none;
            border-color: #3498db;
            background: white;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        select {
            cursor: pointer;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .radio-item input[type="radio"] {
            width: 20px;
            height: 20px;
            accent-color: #3498db;
        }

        .radio-item label {
            cursor: pointer;
            font-weight: 500;
            color: #2c3e50;
        }

        .file-upload {
            position: relative;
            display: inline-block;
            cursor: pointer;
            width: 100%;
        }

        .file-upload input[type="file"] {
            position: absolute;
            left: -9999px;
        }

        .file-upload-label {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            border: 2px dashed #3498db;
            border-radius: 10px;
            background: #f8f9fa;
            transition: all 0.3s ease;
            min-height: 80px;
            text-align: center;
        }

        .file-upload-label:hover {
            border-color: #2980b9;
            background: #e3f2fd;
        }

        .file-upload-label .upload-icon {
            font-size: 2em;
            margin-bottom: 10px;
            color: #3498db;
        }

        .file-upload-label .upload-text {
            color: #2c3e50;
            font-weight: 500;
        }

        .preview-container {
            margin-top: 15px;
            display: none;
        }

        .image-preview {
            max-width: 200px;
            max-height: 200px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .section-title {
            color: #2c3e50;
            font-size: 1.3em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
            font-weight: 600;
            display: flex;
            flex-direction: column;
            text-align: center;
        }

        .section-title-arabic {
            font-size: 1.1em;
            margin-top: 5px;
            color: #5a6c7d;
            direction: rtl;
            font-family: 'Arial', 'Tahoma', sans-serif;
        }

        .conditional-field {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #e74c3c;
        }

        .conditional-field.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .submit-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 20px;
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.3);
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(52, 152, 219, 0.4);
        }

        .submit-btn:active:not(:disabled) {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .required {
            color: #e74c3c;
        }

        .info-text {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 5px;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .form-row, .form-row-three {
                grid-template-columns: 1fr;
            }

            .container {
                margin: 10px;
            }

            .form-container {
                padding: 20px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 2em;
            }

            .logo-upload {
                position: static;
                margin-bottom: 15px;
            }

            .radio-group {
                flex-direction: column;
                gap: 10px;
            }
        }

        .success-message {
            display: none;
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #c3e6cb;
            text-align: center;
        }

        .error-message {
            display: none;
            background: #f8d7da;
            color: #721c24;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #f5c6cb;
            text-align: center;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .contact-info {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            text-align: center;
        }

        .contact-info strong {
            color: #2c3e50;
        }

        .phone-link {
            color: #3498db;
            text-decoration: none;
            font-weight: bold;
        }

        .phone-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <div id="logoContainer">
            <img src="./logo.jpg" alt="Logo" class="logo" id="logoImage">
        </div>

        <h1>Hajj Anmeldung<br><small style="font-size: 0.6em; opacity: 0.9;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¬</small></h1>
        <p>Bitte fÃ¼llen Sie alle Felder sorgfÃ¤ltig aus<br><small style="opacity: 0.8;">ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø¹Ù†Ø§ÙŠØ©</small></p>
    </div>

    <div class="form-container">
        <div class="success-message" id="successMessage">
            âœ… <strong>Erfolgreich versendet!</strong><br>
            <small style="opacity: 0.8;">ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!</small><br><br>
            Ihre Hajj-Registrierung wurde erfolgreich Ã¼bermittelt. Wir werden uns in KÃ¼rze melden.<br>
            <small style="opacity: 0.8;">ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¬ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­. Ø³ØªØªÙ„Ù‚Ù‰ ØªØ£ÙƒÙŠØ¯Ø§Ù‹ Ù‚Ø±ÙŠØ¨Ø§Ù‹.</small>
        </div>

        <div class="error-message" id="errorMessage">
            âŒ <strong>Fehler beim Senden</strong><br>
            <small style="opacity: 0.8;">Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</small><br><br>
            Es gab einen technischen Fehler beim Ãœbermitteln Ihrer Daten.<br>
            <small style="opacity: 0.8;">Ø­Ø¯Ø« Ø®Ø·Ø£ ØªÙ‚Ù†ÙŠ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ.</small>
            <div class="contact-info">
                <strong>ğŸ“ Support kontaktieren:</strong><br>
                <small>Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¯Ø¹Ù…:</small><br>
                Telefon: <a href="tel:+491234567890" class="phone-link">+49 123 456 7890</a><br>
                E-Mail: <a href="mailto:support@hajj-services.de" class="phone-link">support@hajj-services.de</a><br>
                WhatsApp: <a href="https://wa.me/491234567890" class="phone-link" target="_blank">ğŸ“± WhatsApp</a>
            </div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Daten werden Ã¼bermittelt...<br><small>Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</small></p>
        </div>

        <form id="hajjForm">
            <!-- Personal Information Section -->
            <div class="section-title">
                <div>ğŸ‘¤ PersÃ¶nliche Informationen</div>
                <div class="section-title-arabic">Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Vorname <span class="required">*</span></div>
                        <div class="label-arabic">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„</div>
                    </div>
                    <input type="text" id="vorname" name="vorname" placeholder="Vorname / Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„" required>
                </div>
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Nachname <span class="required">*</span></div>
                        <div class="label-arabic">Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</div>
                    </div>
                    <input type="text" id="nachname" name="nachname" placeholder="Nachname / Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">E-Mail Adresse <span class="required">*</span></div>
                        <div class="label-arabic">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
                    </div>
                    <input type="email" id="email" name="email" placeholder="email@example.com" required>
                </div>
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Telefonnummer (WhatsApp) <span class="required">*</span></div>
                        <div class="label-arabic">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (ÙˆØ§ØªØ³Ø§Ø¨)</div>
                    </div>
                    <input type="tel" id="telefon" name="telefon" placeholder="+49 123 456789" required>
                    <div class="info-text">Bitte WhatsApp-fÃ¤hige Nummer angeben / ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨</div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Geburtsdatum <span class="required">*</span></div>
                        <div class="label-arabic">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</div>
                    </div>
                    <input type="date" id="geburtsdatum" name="geburtsdatum" required>
                </div>
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">NationalitÃ¤t <span class="required">*</span></div>
                        <div class="label-arabic">Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</div>
                    </div>
                    <select id="nationalitaet" name="nationalitaet" required>
                        <option value="">NationalitÃ¤t wÃ¤hlen / Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</option>
                        <optgroup label="Europa / Ø£ÙˆØ±ÙˆØ¨Ø§">
                            <option value="deutsch">Deutsch / Ø£Ù„Ù…Ø§Ù†ÙŠ</option>
                            <option value="oesterreichisch">Ã–sterreichisch / Ù†Ù…Ø³Ø§ÙˆÙŠ</option>
                            <option value="schweiz">Schweizer / Ø³ÙˆÙŠØ³Ø±ÙŠ</option>
                            <option value="niederlaendisch">NiederlÃ¤ndisch / Ù‡ÙˆÙ„Ù†Ø¯ÙŠ</option>
                            <option value="belgisch">Belgisch / Ø¨Ù„Ø¬ÙŠÙƒÙŠ</option>
                            <option value="franzoesisch">FranzÃ¶sisch / ÙØ±Ù†Ø³ÙŠ</option>
                            <option value="italienisch">Italienisch / Ø¥ÙŠØ·Ø§Ù„ÙŠ</option>
                            <option value="spanisch">Spanisch / Ø¥Ø³Ø¨Ø§Ù†ÙŠ</option>
                            <option value="britisch">Britisch / Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠ</option>
                            <option value="irisch">Irisch / Ø£ÙŠØ±Ù„Ù†Ø¯ÙŠ</option>
                            <option value="schwedisch">Schwedisch / Ø³ÙˆÙŠØ¯ÙŠ</option>
                            <option value="norwegisch">Norwegisch / Ù†Ø±ÙˆÙŠØ¬ÙŠ</option>
                            <option value="daenisch">DÃ¤nisch / Ø¯Ù†Ù…Ø§Ø±ÙƒÙŠ</option>
                            <option value="finnisch">Finnisch / ÙÙ†Ù„Ù†Ø¯ÙŠ</option>
                            <option value="polnisch">Polnisch / Ø¨ÙˆÙ„Ù†Ø¯ÙŠ</option>
                            <option value="tschechisch">Tschechisch / ØªØ´ÙŠÙƒÙŠ</option>
                            <option value="ungarisch">Ungarisch / Ù…Ø¬Ø±ÙŠ</option>
                            <option value="rumaenisch">RumÃ¤nisch / Ø±ÙˆÙ…Ø§Ù†ÙŠ</option>
                            <option value="bulgarisch">Bulgarisch / Ø¨Ù„ØºØ§Ø±ÙŠ</option>
                            <option value="kroatisch">Kroatisch / ÙƒØ±ÙˆØ§ØªÙŠ</option>
                            <option value="serbisch">Serbisch / ØµØ±Ø¨ÙŠ</option>
                            <option value="bosnisch">Bosnisch / Ø¨ÙˆØ³Ù†ÙŠ</option>
                            <option value="albanisch">Albanisch / Ø£Ù„Ø¨Ø§Ù†ÙŠ</option>
                            <option value="griechisch">Griechisch / ÙŠÙˆÙ†Ø§Ù†ÙŠ</option>
                            <option value="portugiesisch">Portugiesisch / Ø¨Ø±ØªØºØ§Ù„ÙŠ</option>
                            <option value="russisch">Russisch / Ø±ÙˆØ³ÙŠ</option>
                            <option value="ukrainisch">Ukrainisch / Ø£ÙˆÙƒØ±Ø§Ù†ÙŠ</option>
                        </optgroup>
                        <optgroup label="Naher Osten / Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·">
                            <option value="tuerkisch">TÃ¼rkisch / ØªØ±ÙƒÙŠ</option>
                            <option value="syrisch">Syrisch / Ø³ÙˆØ±ÙŠ</option>
                            <option value="irakisch">Irakisch / Ø¹Ø±Ø§Ù‚ÙŠ</option>
                            <option value="libanesisch">Libanesisch / Ù„Ø¨Ù†Ø§Ù†ÙŠ</option>
                            <option value="jordanisch">Jordanisch / Ø£Ø±Ø¯Ù†ÙŠ</option>
                            <option value="palaestinensisch">PalÃ¤stinensisch / ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ</option>
                            <option value="iranisch">Iranisch / Ø¥ÙŠØ±Ø§Ù†ÙŠ</option>
                            <option value="israelisch">Israelisch / Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ÙŠ</option>
                            <option value="saudi">Saudi-Arabisch / Ø³Ø¹ÙˆØ¯ÙŠ</option>
                            <option value="emiratisch">Emiratisch / Ø¥Ù…Ø§Ø±Ø§ØªÙŠ</option>
                            <option value="katarisch">Katarisch / Ù‚Ø·Ø±ÙŠ</option>
                            <option value="kuwaitisch">Kuwaitisch / ÙƒÙˆÙŠØªÙŠ</option>
                            <option value="bahrainisch">Bahrainisch / Ø¨Ø­Ø±ÙŠÙ†ÙŠ</option>
                            <option value="omanisch">Omanisch / Ø¹Ù…Ø§Ù†ÙŠ</option>
                            <option value="jemenitisch">Jemenitisch / ÙŠÙ…Ù†ÙŠ</option>
                        </optgroup>
                        <optgroup label="Afrika / Ø£ÙØ±ÙŠÙ‚ÙŠØ§">
                            <option value="aegyptisch">Ã„gyptisch / Ù…ØµØ±ÙŠ</option>
                            <option value="marokkanisch">Marokkanisch / Ù…ØºØ±Ø¨ÙŠ</option>
                            <option value="tunesisch">Tunesisch / ØªÙˆÙ†Ø³ÙŠ</option>
                            <option value="algerisch">Algerisch / Ø¬Ø²Ø§Ø¦Ø±ÙŠ</option>
                            <option value="libyschen">Libyscher / Ù„ÙŠØ¨ÙŠ</option>
                            <option value="sudanesisch">Sudanesisch / Ø³ÙˆØ¯Ø§Ù†ÙŠ</option>
                            <option value="aethiopisch">Ã„thiopisch / Ø¥Ø«ÙŠÙˆØ¨ÙŠ</option>
                            <option value="eritreisch">Eritreisch / Ø¥Ø±ÙŠØªØ±ÙŠ</option>
                            <option value="somalisch">Somalisch / ØµÙˆÙ…Ø§Ù„ÙŠ</option>
                            <option value="nigerianisch">Nigerianisch / Ù†ÙŠØ¬ÙŠØ±ÙŠ</option>
                            <option value="ghanaisch">Ghanaisch / ØºØ§Ù†ÙŠ</option>
                            <option value="senegalesisch">Senegalesisch / Ø³Ù†ØºØ§Ù„ÙŠ</option>
                            <option value="malisch">Malisch / Ù…Ø§Ù„ÙŠ</option>
                            <option value="gambisch">Gambisch / ØºØ§Ù…Ø¨ÙŠ</option>
                            <option value="guineisch">Guineisch / ØºÙŠÙ†ÙŠ</option>
                            <option value="ivorisch">ElfenbeinkÃ¼ste / Ø³Ø§Ø­Ù„ Ø§Ù„Ø¹Ø§Ø¬</option>
                            <option value="kamerunisch">Kamerunisch / ÙƒØ§Ù…ÙŠØ±ÙˆÙ†ÙŠ</option>
                            <option value="kongolesisch">Kongolesisch / ÙƒÙˆÙ†ØºÙˆÙ„ÙŠ</option>
                            <option value="suedafrikanisch">SÃ¼dafrikanisch / Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠ</option>
                            <option value="kenianisch">Kenianisch / ÙƒÙŠÙ†ÙŠ</option>
                            <option value="tansanisch">Tansanisch / ØªÙ†Ø²Ø§Ù†ÙŠ</option>
                        </optgroup>
                        <optgroup label="Asien / Ø¢Ø³ÙŠØ§">
                            <option value="afghanisch">Afghanisch / Ø£ÙØºØ§Ù†ÙŠ</option>
                            <option value="pakistanisch">Pakistanisch / Ø¨Ø§ÙƒØ³ØªØ§Ù†ÙŠ</option>
                            <option value="indisch">Indisch / Ù‡Ù†Ø¯ÙŠ</option>
                            <option value="bangladeschisch">Bangladeschisch / Ø¨Ù†ØºÙ„Ø§Ø¯ÙŠØ´ÙŠ</option>
                            <option value="sri_lankisch">Sri Lankisch / Ø³Ø±ÙŠÙ„Ø§Ù†ÙƒÙŠ</option>
                            <option value="chinesisch">Chinesisch / ØµÙŠÙ†ÙŠ</option>
                            <option value="japanisch">Japanisch / ÙŠØ§Ø¨Ø§Ù†ÙŠ</option>
                            <option value="koreanisch">Koreanisch / ÙƒÙˆØ±ÙŠ</option>
                            <option value="thailaendisch">ThailÃ¤ndisch / ØªØ§ÙŠÙ„Ø§Ù†Ø¯ÙŠ</option>
                            <option value="vietnamesisch">Vietnamesisch / ÙÙŠØªÙ†Ø§Ù…ÙŠ</option>
                            <option value="philippinisch">Philippinisch / ÙÙ„Ø¨ÙŠÙ†ÙŠ</option>
                            <option value="indonesisch">Indonesisch / Ø¥Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠ</option>
                            <option value="malaysisch">Malaysisch / Ù…Ø§Ù„ÙŠØ²ÙŠ</option>
                            <option value="singapurisch">Singapurisch / Ø³Ù†ØºØ§ÙÙˆØ±ÙŠ</option>
                            <option value="burmesisch">Burmesisch / Ø¨ÙˆØ±Ù…ÙŠ</option>
                            <option value="kambodschanisch">Kambodschanisch / ÙƒÙ…Ø¨ÙˆØ¯ÙŠ</option>
                            <option value="laotisch">Laotisch / Ù„Ø§ÙˆØ³ÙŠ</option>
                            <option value="mongolisch">Mongolisch / Ù…Ù†ØºÙˆÙ„ÙŠ</option>
                            <option value="nepalesisch">Nepalesisch / Ù†ÙŠØ¨Ø§Ù„ÙŠ</option>
                            <option value="bhutanisch">Bhutanisch / Ø¨ÙˆØªØ§Ù†ÙŠ</option>
                            <option value="usbekisch">Usbekisch / Ø£ÙˆØ²Ø¨ÙƒÙŠ</option>
                            <option value="kasachisch">Kasachisch / ÙƒØ§Ø²Ø§Ø®ÙŠ</option>
                            <option value="kirgisisch">Kirgisisch / Ù‚ÙŠØ±ØºÙŠØ²ÙŠ</option>
                            <option value="tadschikisch">Tadschikisch / Ø·Ø§Ø¬ÙŠÙƒÙŠ</option>
                            <option value="turkmenisch">Turkmenisch / ØªØ±ÙƒÙ…Ø§Ù†ÙŠ</option>
                            <option value="aserbaidschanisch">Aserbaidschanisch / Ø£Ø°Ø±Ø¨ÙŠØ¬Ø§Ù†ÙŠ</option>
                            <option value="armenisch">Armenisch / Ø£Ø±Ù…Ù†ÙŠ</option>
                            <option value="georgisch">Georgisch / Ø¬ÙˆØ±Ø¬ÙŠ</option>
                        </optgroup>
                        <optgroup label="Nord- & SÃ¼damerika / Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©">
                            <option value="amerikanisch">Amerikanisch / Ø£Ù…Ø±ÙŠÙƒÙŠ</option>
                            <option value="kanadisch">Kanadisch / ÙƒÙ†Ø¯ÙŠ</option>
                            <option value="mexikanisch">Mexikanisch / Ù…ÙƒØ³ÙŠÙƒÙŠ</option>
                            <option value="brasilianisch">Brasilianisch / Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠ</option>
                            <option value="argentinisch">Argentinisch / Ø£Ø±Ø¬Ù†ØªÙŠÙ†ÙŠ</option>
                            <option value="chilenisch">Chilenisch / ØªØ´ÙŠÙ„ÙŠ</option>
                            <option value="kolumbianisch">Kolumbianisch / ÙƒÙˆÙ„ÙˆÙ…Ø¨ÙŠ</option>
                            <option value="peruanisch">Peruanisch / Ø¨ÙŠØ±ÙˆÙÙŠ</option>
                            <option value="venezolanisch">Venezolanisch / ÙÙ†Ø²ÙˆÙŠÙ„ÙŠ</option>
                            <option value="ecuadorianisch">Ecuadorianisch / Ø¥ÙƒÙˆØ§Ø¯ÙˆØ±ÙŠ</option>
                            <option value="bolivianisch">Bolivianisch / Ø¨ÙˆÙ„ÙŠÙÙŠ</option>
                            <option value="uruguayisch">Uruguayisch / Ø£ÙˆØ±ÙˆØºÙˆØ§Ø¦ÙŠ</option>
                            <option value="paraguayisch">Paraguayisch / Ø¨Ø§Ø±Ø§ØºÙˆØ§Ø¦ÙŠ</option>
                        </optgroup>
                        <optgroup label="Ozeanien / Ø£ÙˆÙ‚ÙŠØ§Ù†ÙˆØ³ÙŠØ§">
                            <option value="australisch">Australisch / Ø£Ø³ØªØ±Ø§Ù„ÙŠ</option>
                            <option value="neuseelaendisch">NeuseelÃ¤ndisch / Ù†ÙŠÙˆØ²ÙŠÙ„Ù†Ø¯ÙŠ</option>
                        </optgroup>
                        <optgroup label="Sonstige / Ø£Ø®Ø±Ù‰">
                            <option value="staatenlos">Staatenlos / Ø¹Ø¯ÙŠÙ… Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</option>
                            <option value="ungeklaert">UngeklÃ¤rt / ØºÙŠØ± Ù…Ø­Ø¯Ø¯</option>
                            <option value="sonstige">Sonstige / Ø£Ø®Ø±Ù‰</option>
                        </optgroup>
                    </select>
                </div>
            </div>

            <!-- Passport Information Section -->
            <div class="section-title">
                <div>ğŸ›‚ Reisepass Informationen</div>
                <div class="section-title-arabic">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</div>
            </div>

            <div class="form-group">
                <div class="bilingual-label">
                    <div class="label-german">Art des Reisepasses <span class="required">*</span></div>
                    <div class="label-arabic">Ù†ÙˆØ¹ Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</div>
                </div>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="pass_europaeisch" name="passart" value="europaeisch" required>
                        <label for="pass_europaeisch">EuropÃ¤ischer Pass<br><small>Ø§Ù„Ø¬ÙˆØ§Ø² Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ</small></label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="pass_blau" name="passart" value="blau" required>
                        <label for="pass_blau">Blauer Reiseausweis<br><small>ÙˆØ«ÙŠÙ‚Ø© Ø§Ù„Ø³ÙØ± Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡</small></label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="pass_auslaendisch" name="passart" value="auslaendisch" required>
                        <label for="pass_auslaendisch">AuslÃ¤ndischer Pass mit Aufenthaltstitel<br><small>Ø¬ÙˆØ§Ø² Ø³ÙØ± Ø£Ø¬Ù†Ø¨ÙŠ Ù…Ø¹ Ø¥Ù‚Ø§Ù…Ø©</small></label>
                    </div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Passnummer <span class="required">*</span></div>
                        <div class="label-arabic">Ø±Ù‚Ù… Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</div>
                    </div>
                    <input type="text" id="passnummer" name="passnummer" placeholder="Passnummer / Ø±Ù‚Ù… Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±" required>
                </div>
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Pass GÃ¼ltigkeit <span class="required">*</span></div>
                        <div class="label-arabic">ØµÙ„Ø§Ø­ÙŠØ© Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</div>
                    </div>
                    <input type="date" id="passgueltigkeit" name="passgueltigkeit" required>
                    <div class="info-text">Muss mindestens 6 Monate gÃ¼ltig sein / ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ØµØ§Ù„Ø­Ø§Ù‹ Ù„Ù…Ø¯Ø© 6 Ø£Ø´Ù‡Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</div>
                </div>
            </div>

            <!-- Conditional Aufenthaltstitel Field -->
            <div id="aufenthaltstitelSection" class="conditional-field">
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Aufenthaltstitel hochladen <span class="required">*</span></div>
                        <div class="label-arabic">ØªØ­Ù…ÙŠÙ„ ØªØµØ±ÙŠØ­ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</div>
                    </div>
                    <div class="file-upload">
                        <input type="file" id="aufenthaltstitel-image" name="aufenthaltstitel-image" accept="image/*">
                        <label for="aufenthaltstitel-image" class="file-upload-label">
                            <div>
                                <div class="upload-icon">ğŸ“„</div>
                                <div class="upload-text">Aufenthaltstitel hochladen<br><small style="color: #7f8c8d;">ØªØ­Ù…ÙŠÙ„ ØªØµØ±ÙŠØ­ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</small></div>
                                <small>Beide Seiten erforderlich<br>Ø§Ù„ÙˆØ¬Ù‡ÙŠÙ† Ù…Ø·Ù„ÙˆØ¨Ø§Ù†</small>
                            </div>
                        </label>
                    </div>
                    <div class="preview-container" id="aufenthaltstitel-preview">
                        <img class="image-preview" id="aufenthaltstitel-img">
                    </div>
                </div>
            </div>

            <!-- Document Upload Section -->
            <div class="section-title">
                <div>ğŸ“¸ Dokumente hochladen</div>
                <div class="section-title-arabic">ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚</div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Reisepass Kopie <span class="required">*</span></div>
                        <div class="label-arabic">Ù†Ø³Ø®Ø© Ù…Ù† Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</div>
                    </div>
                    <div class="file-upload">
                        <input type="file" id="passport-copy" name="passport-copy" accept="image/*" required>
                        <label for="passport-copy" class="file-upload-label">
                            <div>
                                <div class="upload-icon">ğŸ“‹</div>
                                <div class="upload-text">Reisepass Kopie<br><small style="color: #7f8c8d;">Ù†Ø³Ø®Ø© Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±</small></div>
                                <small>Alle relevanten Seiten<br>Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©</small>
                            </div>
                        </label>
                    </div>
                    <div class="preview-container" id="passport-copy-preview">
                        <img class="image-preview" id="passport-copy-img">
                    </div>
                </div>

                <div class="form-group">
                    <div class="bilingual-label">
                        <div class="label-german">Biometrisches Passbild <span class="required">*</span></div>
                        <div class="label-arabic">ØµÙˆØ±Ø© Ø¬ÙˆØ§Ø² Ø³ÙØ± Ø¨ÙŠÙˆÙ…ØªØ±ÙŠØ©</div>
                    </div>
                    <div class="file-upload">
                        <input type="file" id="passport-photo" name="passport-photo" accept="image/*" required>
                        <label for="passport-photo" class="file-upload-label">
                            <div>
                                <div class="upload-icon">ğŸ“·</div>
                                <div class="upload-text">Biometrisches Passbild<br><small style="color: #7f8c8d;">ØµÙˆØ±Ø© Ø¨ÙŠÙˆÙ…ØªØ±ÙŠØ©</small></div>
                                <small>WeiÃŸer Hintergrund, 35x45mm<br>Ø®Ù„ÙÙŠØ© Ø¨ÙŠØ¶Ø§Ø¡ØŒ 35x45 Ù…Ù„Ù…</small>
                            </div>
                        </label>
                    </div>
                    <div class="preview-container" id="passport-photo-preview">
                        <img class="image-preview" id="passport-photo-img">
                    </div>
                </div>
            </div>

            <!-- Nusuk Registration Section -->
            <div class="section-title">
                <div>ğŸ“± Nusuk Registration</div>
                <div class="section-title-arabic">ØªØ³Ø¬ÙŠÙ„ Ù†Ø³Ùƒ</div>
            </div>

            <div class="form-group">
                <div class="bilingual-label">
                    <div class="label-german">Haben Sie sich bereits auf Nusuk registriert? <span class="required">*</span></div>
                    <div class="label-arabic">Ù‡Ù„ Ù‚Ù…Øª Ø¨Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¹Ù„Ù‰ Ù†Ø³Ùƒ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ</div>
                </div>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="nusuk_ja" name="nusuk_registriert" value="ja" required>
                        <label for="nusuk_ja">Ja / Ù†Ø¹Ù…</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="nusuk_nein" name="nusuk_registriert" value="nein" required>
                        <label for="nusuk_nein">Nein / Ù„Ø§</label>
                    </div>
                </div>
                <div class="info-text">
                    Nusuk ist die offizielle Saudi-Arabische Plattform fÃ¼r Hajj und Umrah Registrierungen<br>
                    <small>Ù†Ø³Ùƒ Ù‡Ùˆ Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„Ø­Ø¬ ÙˆØ§Ù„Ø¹Ù…Ø±Ø©</small>
                </div>
            </div>

            <button type="submit" class="submit-btn">
                ğŸ“¤ Hajj-Registrierung absenden<br><small style="font-size: 0.8em; opacity: 0.9;">Ø¥Ø±Ø³Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¬</small>
            </button>
        </form>
    </div>
</div>

<script>
    // Logo upload functionality
    document.getElementById('logoUpload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const logoContainer = document.getElementById('logoContainer');
                logoContainer.innerHTML = `<img src="${e.target.result}" alt="Company Logo" class="logo" id="logoImage">`;
                localStorage.setItem('companyLogo', e.target.result);
            };
            reader.readAsDataURL(file);
        }
    });

    // Load saved logo
    document.addEventListener('DOMContentLoaded', function() {
        const savedLogo = localStorage.getItem('companyLogo');
        if (savedLogo) {
            const logoContainer = document.getElementById('logoContainer');
            logoContainer.innerHTML = `<img src="${savedLogo}" alt="Company Logo" class="logo" id="logoImage">`;
        }
    });

    // Conditional Aufenthaltstitel field
    document.querySelectorAll('input[name="passart"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const aufenthaltstitelSection = document.getElementById('aufenthaltstitelSection');
            const aufenthaltstitelInput = document.getElementById('aufenthaltstitel-image');

            if (this.value === 'auslaendisch') {
                aufenthaltstitelSection.classList.add('show');
                aufenthaltstitelInput.required = true;
            } else {
                aufenthaltstitelSection.classList.remove('show');
                aufenthaltstitelInput.required = false;
            }
        });
    });

    // Image preview functionality
    function setupImagePreview(inputId, previewId, imgId) {
        const input = document.getElementById(inputId);
        const preview = document.getElementById(previewId);
        const img = document.getElementById(imgId);

        input.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    img.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });
    }

    // Setup previews for all image inputs
    setupImagePreview('passport-copy', 'passport-copy-preview', 'passport-copy-img');
    setupImagePreview('passport-photo', 'passport-photo-preview', 'passport-photo-img');
    setupImagePreview('aufenthaltstitel-image', 'aufenthaltstitel-preview', 'aufenthaltstitel-img');

    // Form submission handling with file size validation
    document.getElementById('hajjForm').addEventListener('submit', function(e) {
        e.preventDefault();
        e.stopPropagation();

        const submitBtn = document.querySelector('.submit-btn');
        const loading = document.getElementById('loading');
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');

        // Prevent double submission
        if (submitBtn.disabled) {
            return;
        }

        // Final file validation before submission
        const fileInputs = ['passport-copy', 'passport-photo', 'aufenthaltstitel-image'];
        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'application/pdf'];
        let hasInvalidFiles = false;

        fileInputs.forEach(inputId => {
            const input = document.getElementById(inputId);
            if (input.files.length > 0) {
                const file = input.files[0];

                // Check file type
                if (!allowedTypes.includes(file.type)) {
                    hasInvalidFiles = true;
                    alert(`âŒ UngÃ¼ltiger Dateityp: ${file.name}\nErlaubt: JPG, PNG, GIF, WebP, PDF\n\nÙ†ÙˆØ¹ Ù…Ù„Ù ØºÙŠØ± ØµØ­ÙŠØ­: ${file.name}\nØ§Ù„Ù…Ø³Ù…ÙˆØ­: JPG, PNG, GIF, WebP, PDF`);
                    return;
                }

                // Check file size
                if (file.size > 10 * 1024 * 1024) { // 10MB check
                    hasInvalidFiles = true;
                    const sizeMB = (file.size / (1024 * 1024)).toFixed(2);
                    alert(`âŒ Fehler: ${file.name} ist ${sizeMB}MB groÃŸ (Max: 10MB)\n\nØ®Ø·Ø£: ${file.name} Ø­Ø¬Ù…Ù‡ ${sizeMB} Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: 10 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª)`);
                }
            }
        });

        if (hasInvalidFiles) {
            return; // Stop submission
        }

        // Disable submit button immediately
        submitBtn.disabled = true;
        submitBtn.innerHTML = 'â³ Wird gesendet...<br><small style="font-size: 0.8em; opacity: 0.9;">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...</small>';

        // Hide previous messages
        successMessage.style.display = 'none';
        errorMessage.style.display = 'none';
        loading.style.display = 'block';

        // Create FormData object
        const formData = new FormData(this);

        // Submit to Netlify Function
        fetch('/.netlify/functions/submit-hajj-registration', {
            method: 'POST',
            body: formData
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Server Error ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                loading.style.display = 'none';

                if (data.success) {
                    // SUCCESS
                    successMessage.innerHTML = `
                    âœ… <strong>Erfolgreich versendet!</strong><br>
                    <small style="opacity: 0.8;">ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!</small><br><br>
                    Ihre Hajj-Registrierung wurde erfolgreich Ã¼bermittelt (ID: ${data.id}).<br>
                    Sie erhalten in KÃ¼rze eine BestÃ¤tigung per E-Mail und WhatsApp.<br>
                    <small style="opacity: 0.8;">ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¬ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­. Ø³ØªØªÙ„Ù‚Ù‰ ØªØ£ÙƒÙŠØ¯Ø§Ù‹ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙˆØ§ØªØ³Ø§Ø¨.</small>
                `;
                    successMessage.style.display = 'block';

                    // Reset form and previews
                    this.reset();
                    document.getElementById('passport-copy-preview').style.display = 'none';
                    document.getElementById('passport-photo-preview').style.display = 'none';
                    document.getElementById('aufenthaltstitel-preview').style.display = 'none';
                    document.getElementById('aufenthaltstitelSection').classList.remove('show');

                    // Reset button
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = 'ğŸ“¤ Hajj-Registrierung absenden<br><small style="font-size: 0.8em; opacity: 0.9;">Ø¥Ø±Ø³Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¬</small>';

                } else {
                    throw new Error(data.error || 'Unbekannter Server-Fehler');
                }
            })
            .catch(error => {
                loading.style.display = 'none';
                console.error('Submit Error:', error);

                // ERROR - Show error message with contact info
                let errorDetails = '';
                if (error.message.includes('NetworkError') || error.message.includes('Failed to fetch')) {
                    errorDetails = 'Netzwerkfehler - Bitte Ã¼berprÃ¼fen Sie Ihre Internetverbindung.';
                } else if (error.message.includes('Server Error')) {
                    errorDetails = 'Server-Fehler - Bitte versuchen Sie es spÃ¤ter erneut.';
                } else {
                    errorDetails = error.message;
                }

                errorMessage.innerHTML = `
                âŒ <strong>Fehler beim Senden</strong><br>
                <small style="opacity: 0.8;">Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</small><br><br>
                <strong>Fehlerdetails:</strong> ${errorDetails}<br><br>
                Bitte versuchen Sie es erneut oder kontaktieren Sie uns fÃ¼r Hilfe.<br>
                <small style="opacity: 0.8;">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø£Ùˆ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø§ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©.</small>
                <div class="contact-info">
                    <strong>ğŸ“ Support kontaktieren:</strong><br>
                    <small>Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¯Ø¹Ù…:</small><br>
                    Telefon: <a href="tel:+491234567890" class="phone-link">+49 123 456 7890</a><br>
                    E-Mail: <a href="mailto:support@hajj-services.de" class="phone-link">support@hajj-services.de</a><br>
                    WhatsApp: <a href="https://wa.me/491234567890?text=Hilfe%20bei%20Hajj%20Registration" class="phone-link" target="_blank">ğŸ“± WhatsApp Support</a>
                </div>
            `;
                errorMessage.style.display = 'block';

                // Re-enable button after error
                submitBtn.disabled = false;
                submitBtn.innerHTML = 'ğŸ”„ Erneut versuchen<br><small style="font-size: 0.8em; opacity: 0.9;">Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</small>';
            });
    });

    // Phone number formatting
    document.getElementById('telefon').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.startsWith('49')) {
            value = '+' + value;
        } else if (value.startsWith('0')) {
            value = '+49' + value.substring(1);
        }
        e.target.value = value;
    });

    // Passport number formatting (uppercase)
    document.getElementById('passnummer').addEventListener('input', function(e) {
        e.target.value = e.target.value.toUpperCase();
    });

    // Email validation
    document.getElementById('email').addEventListener('blur', function(e) {
        const email = e.target.value;
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (email && !emailPattern.test(email)) {
            e.target.setCustomValidity('Bitte geben Sie eine gÃ¼ltige E-Mail Adresse ein');
        } else {
            e.target.setCustomValidity('');
        }
    });

    // Passport validity check (must be at least 6 months in future)
    document.getElementById('passgueltigkeit').addEventListener('change', function(e) {
        const selectedDate = new Date(e.target.value);
        const sixMonthsFromNow = new Date();
        sixMonthsFromNow.setMonth(sixMonthsFromNow.getMonth() + 6);

        if (selectedDate < sixMonthsFromNow) {
            alert('âš ï¸ Warnung: Ihr Pass lÃ¤uft in weniger als 6 Monaten ab. Dies kÃ¶nnte zu Problemen fÃ¼hren.\n\nØªØ­Ø°ÙŠØ±: ÙŠÙ†ØªÙ‡ÙŠ Ø¬ÙˆØ§Ø²Ùƒ Ø®Ù„Ø§Ù„ Ø£Ù‚Ù„ Ù…Ù† 6 Ø£Ø´Ù‡Ø±. Ù‚Ø¯ ÙŠØ¤Ø¯ÙŠ Ù‡Ø°Ø§ Ø¥Ù„Ù‰ Ù…Ø´Ø§ÙƒÙ„.');
        }
    });

    // Age validation (must be at least 18 years old)
    document.getElementById('geburtsdatum').addEventListener('change', function(e) {
        const birthDate = new Date(e.target.value);
        const today = new Date();
        const age = today.getFullYear() - birthDate.getFullYear();
        const monthDiff = today.getMonth() - birthDate.getMonth();

        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
            age--;
        }

        if (age < 18) {
            alert('âš ï¸ Sie mÃ¼ssen mindestens 18 Jahre alt sein fÃ¼r die Hajj-Registrierung.\n\nÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¨Ø¹Ù…Ø± 18 Ø¹Ø§Ù…Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ø­Ø¬.');
            e.target.value = '';
        }
    });
</script>
</body>
</html>